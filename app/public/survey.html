<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta charset="utf-8">
  <title>Servey</title>
  <!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"> -->
  <!-- <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"> -->
  <script src="https://code.jquery.com/jquery.js"></script>
  <!-- <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script> -->

</head>

<body>
  <div class="">
    How much do you like Pineapple?
  </div>
  <input type="radio" name="Q1" value="1">
  <span>nope</span>
  <br>
  <input type="radio" name="Q1" value="2">
  <span>it's alright</span>
  <br>
  <input type="radio" name="Q1" value="3">
  <span>good</span>
  <br>
  <input type="radio" name="Q1" value="4">
  <span>OMG AMAZING</span>

  <div class="">
    How much do you like Pineapple?
  </div>
  <input type="radio" name="Q2" value="1">
  <span>nope</span>
  <br>
  <input type="radio" name="Q2" value="2">
  <span>it's alright</span>
  <br>
  <input type="radio" name="Q2" value="3">
  <span>good</span>
  <br>
  <input type="radio" name="Q2" value="4">
  <span>OMG AMAZING</span>


  <br>
  <input class="submit" type="submit" name="submit" value="submit">
</body>

<script type="text/javascript">
  $('.submit').on('click', function(event) {
    event.preventDefault();
    // const questions = document.getElementsByName("Q1");
    const dataToPOST = {
      data: []
    };

    for (let i = 1; i <= 2; i++) {
      let questions = document.getElementsByName("Q" + i);
      console.log(questions);
      console.log(questions.length);
      for (let j = 0; j < questions.length; j++) {
        console.log("ran")
        if (questions[j].checked === true) {
          dataToPOST.data.push(questions[j].value);
        } // end if
      } //end j forloop
    } //end i forloop
    console.log("data")
    console.log(dataToPOST);

    $.post("/api/friends", dataToPOST)
      .then(function(data) {
        console.log("Data returned: ");
        console.log(data);
      })
  })
</script>

</html>
